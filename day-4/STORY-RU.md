
# День 4: Поиски на Церере

«Кажется, Главного здесь нет. Следующий!» Один из Историков достает устройство и нажимает единственную кнопку на нем. После короткой вспышки вы узнаете интерьер станции наблюдения Цереры!

Пока поиски Главного продолжаются, маленький Эльф, живущий на станции, дергает вас за рукав; она хочет узнать, не поможете ли вы ей с поиском слов (ваш ввод для головоломки). Ей нужно найти всего одно слово: XMAS.

В этом поиске слова могут быть написаны горизонтально, вертикально, по диагонали, задом наперед или даже перекрывая другие слова. Однако это немного необычно: вам нужно найти не просто одно вхождение XMAS, а все возможные. Вот несколько примеров того, как может появиться XMAS, где незначащие символы заменены на .:

```
..X...
.SAMX.
.A..A.
XMAS.S
.X....
```

Реальный поиск будет заполнен буквами. Например:

```
MMMSXXMASM
MSAMXMSMSA
AMXSXMAAMM
MSAMASMSMX
XMASAMXAMM
XXAMMXXAMA
SMSMSASXSS
SAXAMASAAA
MAMMMXMMMM
MXMXAXMASX
```

В этом поиске слово XMAS встречается 18 раз; вот тот же поиск, но с заменой всех букв, не участвующих в XMAS, на .:

```
....XXMAS.
.SAMXMS...
...S..A...
..A.A.MS.X
XMASAMX.MM
X.....XA.A
S.S.S.S.SS
.A.A.A.A.A
..M.M.M.MM
.X.X.XMASX
```

Посмотрите на задачу маленького Эльфа. **Сколько раз встречается XMAS?**

## Часть Вторая

Эльф недоуменно смотрит на вас. Неужели вы неправильно поняли задание?

Ища инструкции, вы переворачиваете поиск слов и обнаруживаете, что это вовсе не задача на XMAS; это задача на X-MAS, где вам нужно найти два MAS, расположенные в форме буквы X. Один из способов достичь этого выглядит так:

M.S
.A.
M.S

В данном примере незначащие символы снова заменены на . На рисунке X каждая MAS может быть написана как вперед, так и назад.

Вот тот же пример, что и раньше, но теперь все X-MAS оставлены:

```
.M.S......
..A..MSMS.
.M.S.MAA..
..A.ASMSM.
.M.S.M....
..........
S.S.S.S.S.
.A.A.A.A..
M.M.M.M.M.
..........
```

В этом примере X-MAS появляется 9 раз.

Переверните поиск слов обратно на сторону с задачей и попробуйте еще раз. **Сколько раз появляется X-MAS?**
