# День 7: Ремонт моста

Историки приводят вас к знакомому подвесному мосту через реку в середине джунглей. Однако Начальника нет на этой стороне моста; возможно, он на другой стороне?

Когда вы пытаетесь пересечь мост, вы замечаете группу инженеров, пытающихся его починить. (Похоже, он ломается довольно часто.) Вы не сможете перейти, пока его не починят.

Вы спрашиваете, сколько времени это займёт; инженеры говорят, что нужны только финальные калибровки, но несколько молодых слонов играли поблизости и украли все операторы из их уравнений для калибровки! Они могли бы завершить калибровку, если бы кто-нибудь определил, какие тестовые значения могут быть получены, если вставить любые комбинации операторов в их уравнения для калибровки (это ваш входной файл задачи).

Например:

```
190: 10 19
3267: 81 40 27
83: 17 5
156: 15 6
7290: 6 8 6 15
161011: 16 10 13
192: 17 8 14
21037: 9 7 18 13
292: 11 6 16 20
```

Каждая строка представляет одно уравнение. Тестовое значение находится перед двоеточием в каждой строке; ваша задача — определить, можно ли оставшиеся числа объединить с операторами, чтобы получить тестовое значение.

Операторы всегда вычисляются слева направо, а не согласно правилам приоритета. Кроме того, числа в уравнениях нельзя переставлять. Бросив взгляд в джунгли, вы видите, что слоны держат два различных типа операторов: сложение (+) и умножение (*).

Только три из приведённых выше уравнений могут быть истинными при вставке операторов:

- 190: 10 19 имеет только одну позицию для оператора: между 10 и 19. Выбор + даст 29, но выбор * даст тестовое значение (10 * 19 = 190).
- 3267: 81 40 27 имеет две позиции для операторов. Из четырёх возможных конфигураций операторов две приводят правую часть к тестовому значению: 81 + 40 * 27 и 81 * 40 + 27 равны 3267 (при вычислении слева направо)!
- 292: 11 6 16 20 может быть решено только одним способом: 11 + 6 * 16 + 20.

Инженерам нужен только общий результат калибровки, который является суммой тестовых значений из тех уравнений, которые могут быть истинными. В приведённом выше примере сумма тестовых значений для трёх уравнений составляет 3749.

Определите, какие уравнения могут быть истинными. **Каков их общий результат калибровки?**

## Часть вторая

Инженеры выглядят обеспокоенными; общий результат калибровки, который вы им дали, далёк от допустимых норм безопасности. В этот момент вы замечаете свою ошибку: несколько хорошо спрятавшихся слонов держат третий тип оператора.

Оператор конкатенации (||) объединяет цифры из левого и правого операндов в одно число. Например, 12 || 345 превратится в 12345. Все операторы по-прежнему вычисляются слева направо.

Теперь, помимо трёх уравнений, которые могли быть истинными с использованием только сложения и умножения, в приведённом выше примере есть ещё три уравнения, которые могут быть истинными при использовании оператора ||:

- 156: 15 6 может быть истинным через одну конкатенацию: 15 || 6 = 156.
- 7290: 6 8 6 15 может быть истинным с использованием 6 * 8 || 6 * 15.
- 192: 17 8 14 может быть истинным с использованием 17 || 8 + 14.

Сложение всех шести тестовых значений (трёх, которые могли быть истинными до использования ||, и трёх новых, которые теперь могут быть истинными с ||) даёт новый общий результат калибровки: 11387.

Используя ваше новое знание о скрытых местах слонов, определите, какие уравнения могут быть истинными. **Каков их общий результат калибровки?**