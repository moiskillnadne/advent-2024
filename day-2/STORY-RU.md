
# День 2: Отчеты Красноносого

К счастью, первое место, которое Историки хотят исследовать, находится недалеко от офиса Главного Историка.

Хотя на ядерной станции Красноносого Оленя, использующей технологии ядерного синтеза/деления, следов Главного Историка не обнаружено, инженеры сразу же бегут к вам, как только вас замечают. Очевидно, здесь до сих пор обсуждают случай, когда Рудольфа спасли с помощью молекулярного синтеза из единственного электрона.

Они быстро добавляют, что, раз уж вы здесь, они были бы очень благодарны, если бы вы помогли им проанализировать необычные данные от реактора Красноносого. Вы оборачиваетесь, чтобы проверить, ждут ли вас Историки, но кажется, что они уже разделились на группы и исследуют каждый уголок объекта. Вы предлагаете свою помощь с анализом данных.

Необычные данные (ваш ввод для головоломки) состоят из множества отчетов, каждый отчет представлен отдельной строкой. В каждом отчете содержится список чисел, называемых уровнями, разделенных пробелами. Например:

```
- 7 6 4 2 1
- 1 2 7 8 9
- 9 7 6 2 1
- 1 3 2 4 5
- 8 6 4 4 1
- 1 3 6 7 9
```

Эти примерные данные содержат шесть отчетов, каждый из которых включает пять уровней.

Инженеры пытаются определить, какие отчеты безопасны. Системы безопасности реактора Красноносого могут терпеть только уровни, которые либо постепенно увеличиваются, либо постепенно уменьшаются. Таким образом, отчет считается безопасным, если выполняются оба следующих условия:

```
1. Уровни либо все возрастают, либо все убывают.
2. Любые два соседних уровня различаются как минимум на 1 и не более чем на 3.
```

В приведенном выше примере отчеты можно признать безопасными или небезопасными, проверив эти правила:

- 7 6 4 2 1: Безопасен, потому что уровни все убывают на 1 или 2.
- 1 2 7 8 9: Небезопасен, потому что переход от 2 к 7 представляет собой увеличение на 5.
- 9 7 6 2 1: Небезопасен, потому что переход от 6 к 2 — уменьшение на 4.
- 1 3 2 4 5: Небезопасен, потому что 1 3 возрастает, но 3 2 убывает.
- 8 6 4 4 1: Небезопасен, потому что 4 4 не является ни увеличением, ни уменьшением.
- 1 3 6 7 9: Безопасен, потому что уровни все возрастают на 1, 2 или 3.

В этом примере два отчета безопасны.

Проанализируйте необычные данные от инженеров. **Сколько отчетов являются безопасными?**

## Часть Вторая

Инженеры удивлены малым количеством безопасных отчетов, пока не понимают, что забыли упомянуть о Проблемо-Подавителе.

**Проблемо-Подавитель** — это модуль, установленный на реакторе, который позволяет системам безопасности реактора игнорировать один "плохой" уровень в отчете, который иначе был бы небезопасным. Это как если бы "плохого" уровня вообще не существовало!

Теперь применяются те же правила, что и раньше, за исключением того, что если удаление одного уровня из небезопасного отчета делает его безопасным, такой отчет считается безопасным.

Теперь больше отчетов из примера становятся безопасными:

- 7 6 4 2 1: Безопасен без удаления уровня.
- 1 2 7 8 9: Небезопасен независимо от того, какой уровень удален.
- 9 7 6 2 1: Небезопасен независимо от того, какой уровень удален.
- 1 3 2 4 5: Безопасен при удалении второго уровня, 3.
- 8 6 4 4 1: Безопасен при удалении третьего уровня, 4.
- 1 3 6 7 9: Безопасен без удаления уровня.

Благодаря Проблемо-Подавителю четыре отчета теперь безопасны!

Обновите свой анализ, учитывая ситуации, когда Проблемо-Подавитель может удалить один уровень из небезопасных отчетов. **Сколько отчетов теперь являются безопасными?**
