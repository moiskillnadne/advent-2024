
# День 8: Резонансная Коллинеарность
Вы находитесь на крыше сверхсекретной установки Пасхального Кролика.

Пока Историки занимаются своими делами, вы осматриваете знакомую огромную антенну. К вашему удивлению, она была перенастроена для излучения сигнала, который на 0.1% повышает вероятность того, что люди купят Имитированную Посредственную Шоколадку марки Пасхального Кролика в качестве рождественского подарка! Немыслимо!

Осматривая город, вы обнаруживаете множество таких антенн. Каждая антенна настроена на определенную частоту, обозначенную одной строчной буквой, заглавной буквой или цифрой. Вы создаёте карту (ваш ввод задачи) этих антенн. Например:

````
............
........0...
.....0......
.......0....
....0.......
......A.....
............
............
........A...
.........A..
............
............
````

Сигнал оказывает своё зловредное воздействие только в определённых антинодах, основанных на резонансных частотах антенн. В частности, антинода возникает в любой точке, которая находится строго на одной линии с двумя антеннами одной и той же частоты, но только если одна из антенн находится вдвое дальше другой. Это означает, что для любой пары антенн с одинаковой частотой существуют две антиноды, по одной с каждой стороны.

Итак, для этих двух антенн с частотой a создаются две антиноды, отмеченные символом #:

````
..........
...#......
..........
....a.....
..........
.....a....
..........
......#...
..........
..........
````

Добавление третьей антенны с той же частотой создаёт ещё несколько антинод. В идеале добавилось бы четыре антиноды, но две из них находятся за пределами карты, поэтому добавляются только две:

````
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......#...
..........
..........
````

Антенны с разными частотами не создают антинод; A и a считаются разными частотами. Однако антиноды могут возникать в местах, где находятся антенны. В этой диаграмме антенна с заглавной буквой A не создаёт антинод, но имеет антиноду частоты строчной буквы a в своём месте:

````
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......A...
..........
..........
````

В первом примере антенны имеют две разные частоты, поэтому создаваемые антиноды выглядят так, плюс антинода, перекрывающая верхнюю антенну частоты A:

````
......#....#
...#....0...
....#0....#.
..#....0....
....0....#..
.#....A.....
...#........
#......#....
........A...
.........A..
..........#.
..........#.
````

Поскольку верхняя антенна частоты A перекрывается с антинодой частоты 0, общее количество уникальных мест, содержащих антиноду в пределах карты, составляет 14.

Рассчитайте воздействие сигнала. **Сколько уникальных мест в пределах карты содержат антиноду?**

## Часть Вторая
Наблюдая за вашей работой, один из Историков спрашивает, учли ли вы эффекты резонансных гармоник в ваших расчётах.

Ой!

После обновления модели оказывается, что антинода возникает в любой точке сетки, которая находится строго на одной линии с как минимум двумя антеннами одной частоты, независимо от расстояния. Это означает, что некоторые из новых антинод появятся в местах расположения антенн (если только эта антенна не единственная с такой частотой).

Таким образом, эти три антенны с частотой T создают множество антинод:

````
T....#....
...T......
.T....#...
.........#
..#.......
..........
...#......
..........
....#.....
..........
````

На самом деле, все три антенны с частотой T находятся строго на одной линии с двумя другими антеннами, поэтому они также являются антинодами! Это увеличивает общее количество антинод в приведённом выше примере до 9.

Оригинальный пример теперь содержит 34 антиноды, включая антиноды, которые появляются на каждой антенне:

````
##....#....#
.#.#....0...
..#.#0....#.
..##...0....
....0....#..
.#...#A....#
...#..#.....
#....#.#....
..#.....A...
....#....A..
.#........#.
...#......##
````

**Рассчитайте воздействие сигнала с использованием обновлённой модели. Сколько уникальных мест в пределах карты содержат антиноду?**
