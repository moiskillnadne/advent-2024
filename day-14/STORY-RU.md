
# День 14: Укреплённая Ванная Комната

Одному из Историков нужно воспользоваться ванной; к счастью, вы знаете, что рядом с одним из ещё не посещённых мест на их списке есть ванная, поэтому вы все быстро телепортируетесь прямо в вестибюль Штаба Пасхального Кролика.

К сожалению, кажется, что Штаб Пасхального Кролика снова "усовершенствовал" систему безопасности ванной комнаты после вашего последнего визита. Площадь перед ванной комнатой кишит роботами!

Чтобы безопасно проводить Историка в ванную комнату, вам нужно будет предсказать, где будут находиться роботы в будущем. К счастью, похоже, все они движутся по плиточному полу по предсказуемым прямым линиям.

Вы составляете список (ваш ввод задачи) текущих позиций (p) и скоростей (v) всех роботов, по одному роботу на строку. Например:

```
p=0,4 v=3,-3
p=6,3 v=-1,-3
p=10,3 v=-1,2
p=2,0 v=2,-1
p=0,0 v=1,3
p=3,0 v=-2,-2
p=7,6 v=-1,-3
p=3,0 v=-1,-2
p=9,3 v=2,3
p=7,3 v=-1,2
p=2,4 v=2,-3
p=9,5 v=-3,-3
```

Позиция каждого робота задана как p=x,y, где x — это количество плиток от левой стены, а y — количество плиток от верхней стены (если смотреть сверху). Таким образом, позиция p=0,0 означает, что робот находится в самом верхнем левом углу.

Скорость каждого робота задана как v=x,y, где x и y указаны в плитках в секунду. Положительное значение x означает, что робот движется вправо, а положительное значение y означает, что робот движется вниз. Таким образом, скорость v=1,-2 означает, что каждую секунду робот перемещается на 1 плитку вправо и на 2 плитки вверх.

Роботы перед ванной находятся в пространстве размером 101 плитка в ширину и 103 плитки в высоту (если смотреть сверху). Однако в этом примере роботы находятся в пространстве размером всего 11 плиток в ширину и 7 плиток в высоту.

Роботы хорошо справляются с передвижением друг через друга (благодаря комбинации пружин, выдвижных ног и квадрокоптеров), поэтому они могут делить одну плитку и не взаимодействуют друг с другом. Визуально количество роботов на каждой плитке в этом примере выглядит так:

```
1.12.......
...........
...........
......11.11
1.1........
.........1.
.......1...
```

Эти роботы имеют уникальную особенность для обеспечения максимальной безопасности ванной: они могут телепортироваться. Когда робот сталкивается с краем пространства, в котором он находится, он вместо этого телепортируется на противоположную сторону, фактически огибая края. Вот что делает робот с p=2,4 v=2,-3 в первые несколько секунд:

Начальное состояние:
```
...........
...........
...........
...........
..1........
...........
...........
```

Через 1 секунду:
```
...........
....1......
...........
...........
...........
...........
...........
```

Через 2 секунды:
```
...........
...........
...........
...........
...........
......1....
...........
```

Через 3 секунды:
```
...........
...........
........1..
...........
...........
...........
...........
```

Через 4 секунды:
```
...........
...........
...........
...........
...........
...........
..........1
```

Через 5 секунд:
```
...........
...........
...........
.1.........
...........
...........
...........
```

Историк не может ждать слишком долго, поэтому вам не нужно моделировать движение роботов слишком долго. Где будут находиться роботы через 100 секунд?

В приведённом выше примере количество роботов на каждой плитке через 100 секунд выглядит так:

```
......2..1.
...........
1..........
.11........
.....1.....
...12......
.1....1....
```

Чтобы определить самую безопасную область, подсчитайте количество роботов в каждом квадранте через 100 секунд. Роботы, находящиеся точно в середине (по горизонтали или вертикали), не учитываются в любом квадранте, поэтому актуальны только следующие роботы:

```
..... 2..1.
..... .....
1.... .....

..... .....
...12 .....
.1... 1....
```

В этом примере квадранты содержат 1, 3, 4 и 1 роботов. Умножение этих значений друг на друга даёт общий коэффициент безопасности 12.

Смоделируйте движение роботов из вашего списка в пространстве размером 101 плитка в ширину и 103 плитки в высоту. **Каков будет коэффициент безопасности через ровно 100 секунд?**

## Часть Вторая

Во время посещения ванной кто-то замечает, что эти роботы очень похожи на тех, что построены и используются на Северном Полюсе. Если это те же самые роботы, они должны содержать запрограммированное "пасхальное яйцо": в редких случаях большинство роботов должны выстраиваться в изображение рождественской ёлки.

**Сколько минимум секунд должно пройти, чтобы роботы выстроились в изображение пасхального яйца?**
